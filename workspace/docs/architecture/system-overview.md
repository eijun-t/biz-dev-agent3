# ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

## ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆæ€æƒ³

### åŸºæœ¬åŸå‰‡
1. **è‡ªå¾‹æ€§**: å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒç‹¬ç«‹ã—ã¦å‹•ä½œ
2. **å”èª¿æ€§**: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã®åŠ¹ç‡çš„ãªé€£æº
3. **æ‹¡å¼µæ€§**: æ–°è¦ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è¿½åŠ ãŒå®¹æ˜“
4. **ä¿¡é ¼æ€§**: ã‚¨ãƒ©ãƒ¼å‡¦ç†ã¨ãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹
5. **è¦³æ¸¬å¯èƒ½æ€§**: å‡¦ç†çŠ¶æ³ã®å¯è¦–åŒ–

## ğŸ—ï¸ 4å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### Layer 1: ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Next.js App Router (v15)           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    React Server Components          â”‚   â”‚
â”‚  â”‚    Client Components                â”‚   â”‚
â”‚  â”‚    Streaming UI                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è²¬å‹™**:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–UI

**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**:
- Next.js 15 (App Router)
- React 19
- Tailwind CSS
- shadcn/ui

### Layer 2: APIå±¤
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            API Routes (Edge)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  /api/agents/execute                â”‚   â”‚
â”‚  â”‚  /api/agents/[agent]/run            â”‚   â”‚
â”‚  â”‚  /api/projects                      â”‚   â”‚
â”‚  â”‚  /api/reports                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è²¬å‹™**:
- HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†
- èªè¨¼ãƒ»èªå¯
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­è¨ˆ**:
- RESTful API
- Edge Runtimeå¯¾å¿œ
- ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ¬ã‚¹ãƒãƒ³ã‚¹

### Layer 3: ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å±¤
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           LangGraph Workflow                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    State Management                 â”‚   â”‚
â”‚  â”‚    Workflow Definition              â”‚   â”‚
â”‚  â”‚    Agent Coordination               â”‚   â”‚
â”‚  â”‚    Error Recovery                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è²¬å‹™**:
- ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ç®¡ç†
- çŠ¶æ…‹é·ç§»åˆ¶å¾¡
- ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“é€šä¿¡
- ä¸¦åˆ—å‡¦ç†åˆ¶å¾¡

**LangGraphãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**:
```typescript
const workflow = new StateGraph({
  nodes: {
    research: researcherNode,
    ideate: ideatorNode,
    critique: criticNode,
    analyze: analystNode,
    write: writerNode
  },
  edges: [
    ['research', 'ideate'],
    ['ideate', 'critique'],
    ['critique', 'analyze'],
    ['critique', 'write'],
    ['analyze', 'write']
  ]
});
```

### Layer 4: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå±¤
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Agent Instances                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚Researcherâ”‚ â”‚ Ideator  â”‚ â”‚  Critic  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ Analyst  â”‚ â”‚  Writer  â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³**:
```typescript
interface Agent {
  id: string;
  name: string;
  description: string;
  execute(input: AgentInput): Promise<AgentOutput>;
  validate(input: AgentInput): ValidationResult;
  handleError(error: Error): ErrorResponse;
}
```

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### 1. ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ•ãƒ­ãƒ¼
```
User Input
    â†“
Next.js Frontend
    â†“
API Route Handler
    â†“
LangGraph Orchestrator
    â†“
Agent Execution
    â†“
Result Aggregation
    â†“
Response to User
```

### 2. ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“é€šä¿¡
```
Researcher â†’ Market Data
    â†“
Ideator â† Market Data
    â†“
Ideas â†’ Critic
    â†“
Selected Ideas â†’ Analyst & Writer
    â†“
Final Report
```

## ğŸ”„ çŠ¶æ…‹ç®¡ç†

### ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹
```typescript
interface WorkflowState {
  projectId: string;
  phase: 'research' | 'ideation' | 'evaluation' | 'analysis' | 'writing';
  agents: {
    [agentId: string]: {
      status: 'idle' | 'running' | 'completed' | 'error';
      output?: any;
      error?: Error;
    };
  };
  results: {
    research?: ResearchResult;
    ideas?: Idea[];
    selectedIdeas?: Idea[];
    analysis?: AnalysisResult;
    report?: Report;
  };
}
```

### ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆçŠ¶æ…‹
```typescript
interface AgentState {
  input: any;
  processing: boolean;
  output?: any;
  error?: Error;
  retryCount: number;
  executionTime?: number;
}
```

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ

### èªè¨¼ãƒ»èªå¯
- Supabase Auth
- Row Level Security (RLS)
- JWT ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†

### APIä¿è­·
- Rate Limiting
- CORSè¨­å®š
- Input Validation
- SQL Injectioné˜²æ­¢

### ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆç®¡ç†
- ç’°å¢ƒå¤‰æ•°
- Vercelç’°å¢ƒå¤‰æ•°
- Supabase Vaultï¼ˆæ¤œè¨ä¸­ï¼‰

## âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- React Server Components
- Dynamic Imports
- Image Optimization
- Code Splitting

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- Edge Functions
- Connection Pooling
- Response Caching
- Parallel Processing

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–
- ã‚¯ã‚¨ãƒªæœ€é©åŒ–
- Prepared Statements

## ğŸ“ˆ ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£

### æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
- Vercelè‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
- Supabase Pro/Team ãƒ—ãƒ©ãƒ³
- Redis Cacheï¼ˆå°†æ¥ï¼‰

### å‚ç›´ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
- Function Memoryå¢—åŠ 
- Timeoutå»¶é•·
- Concurrent Execution

## ğŸ” ç›£è¦–ã¨ãƒ­ã‚°

### ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°
- Vercel Analytics
- Error Tracking (Sentryæ¤œè¨ä¸­)
- Custom Metrics

### ãƒ­ã‚°ç®¡ç†
```typescript
logger.info('Agent execution started', {
  agentId,
  projectId,
  timestamp
});
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### ç’°å¢ƒæ§‹æˆ
- Development: localhost
- Staging: vercel preview
- Production: vercel production

### CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
```yaml
- Build â†’ Test â†’ Deploy
- Automatic rollback
- Blue-Green deployment
```

## ğŸ“š æŠ€è¡“çš„æ±ºå®šäº‹é …

### ãªãœNext.js 15ï¼Ÿ
- App Router ã®æˆç†Ÿ
- React Server Components
- Edge Runtime ã‚µãƒãƒ¼ãƒˆ
- Vercelçµ±åˆ

### ãªãœLangGraphï¼Ÿ
- è¤‡é›‘ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ç®¡ç†
- çŠ¶æ…‹ç®¡ç†ã®ç°¡æ½”æ€§
- ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒª
- ä¸¦åˆ—å‡¦ç†ã‚µãƒãƒ¼ãƒˆ

### ãªãœSupabaseï¼Ÿ
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚µãƒãƒ¼ãƒˆ
- çµ„ã¿è¾¼ã¿èªè¨¼
- PostgreSQL
- Edge Functions