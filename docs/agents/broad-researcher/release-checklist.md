# Broad Researcher Agent Release Checklist

## リリース前チェックリスト

### 1. コード品質

- [ ] **コードレビュー完了**
  - [ ] 全てのTypeScriptファイルが型エラーなし
  - [ ] ESLint警告なし
  - [ ] 不要なconsole.log削除

- [ ] **テスト完了**
  - [ ] 全ユニットテストがPASS
  - [ ] 統合テストがPASS
  - [ ] コードカバレッジ80%以上

- [ ] **エラーハンドリング**
  - [ ] 全てのエラーが適切にキャッチ
  - [ ] ユーザー向けエラーメッセージが日本語
  - [ ] リトライ可能なエラーの識別

### 2. パフォーマンス

- [ ] **速度最適化**
  - [ ] 平均実行時間 < 30秒
  - [ ] キャッシュヒット率 > 30%
  - [ ] 並列検索の実装

- [ ] **リソース制限**
  - [ ] トークン上限設定 (20,000)
  - [ ] API呼び出し上限設定 (50)
  - [ ] メモリ使用量の監視

- [ ] **レート制限**
  - [ ] Serper API: 100 req/min
  - [ ] OpenAI API: 適切な制限
  - [ ] リトライロジック実装

### 3. セキュリティ

- [ ] **APIキー管理**
  - [ ] 環境変数で管理
  - [ ] クライアントに公開しない
  - [ ] .env.exampleにテンプレート

- [ ] **認証・認可**
  - [ ] Bearerトークン検証
  - [ ] ユーザーIDの検証
  - [ ] CORS設定

- [ ] **入力検証**
  - [ ] Zodスキーマで検証
  - [ ] SQLインジェクション対策
  - [ ] XSS対策

### 4. ドキュメント

- [ ] **README.md**
  - [ ] 機能説明
  - [ ] 使用方法
  - [ ] APIリファレンス

- [ ] **API設定ガイド**
  - [ ] Serper API設定
  - [ ] OpenAI API設定
  - [ ] コスト計算方法

- [ ] **トラブルシューティング**
  - [ ] よくある問題
  - [ ] 解決方法
  - [ ] FAQ

### 5. デプロイメント

- [ ] **ビルド**
  - [ ] `npm run build`成功
  - [ ] ビルドサイズ確認
  - [ ] 依存関係の最適化

- [ ] **環境設定**
  - [ ] 本番用環境変数
  - [ ] Edge Functions設定
  - [ ] ログ設定

- [ ] **監視設定**
  - [ ] エラーアラート
  - [ ] パフォーマンス監視
  - [ ] API使用量監視

### 6. 最終確認

- [ ] **機能テスト**
  - [ ] 日本語検索が正常動作
  - [ ] 英語検索が正常動作
  - [ ] 要約生成が正常動作

- [ ] **コスト確認**
  - [ ] 1リクエストあたりのコスト計算
  - [ ] 月間予算内に収まるか確認
  - [ ] コストアラート設定

- [ ] **バックアップ**
  - [ ] コードのGitタグ付け
  - [ ] 環境設定のバックアップ
  - [ ] ロールバック手順確認

## リリース後のタスク

### 1日後
- [ ] エラーログ確認
- [ ] パフォーマンス確認
- [ ] API使用量確認

### 1週間後
- [ ] ユーザーフィードバック収集
- [ ] コスト分析
- [ ] 改善点のリストアップ

### 1ヶ月後
- [ ] 月次レポート作成
- [ ] 次バージョン計画
- [ ] コスト最適化の検討

## 緊急時対応

### エラー発生時
1. エラーログ確認
2. 影響範囲の特定
3. ホットフィックスまたはロールバック
4. ポストモーテム実施

### API制限到達時
1. レート制限の調整
2. キャッシュTTLの延長
3. プランアップグレードの検討

### パフォーマンス劣化時
1. ボトルネックの特定
2. スケーリングの検討
3. クエリ最適化

## 連絡先

- **開発チーム**: dev-team@company.com
- **インフラチーム**: infra-team@company.com
- **緊急連絡先**: emergency@company.com

---

✓ このチェックリストを完了したら、リリース準備完了です！